<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.16.3"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}, "axis": {"labelAngle": -60, "labelFontSize": 12, "labelOverlap": true, "titleFontSize": 14}}, "data": {"name": "data-49945fc7344cdfa168bbb4cab8d237d1"}, "mark": {"type": "circle"}, "encoding": {"color": {"condition": {"param": "param_8", "field": "route_name", "scale": {"domain": ["Blue Line", "Red Line", "Green Line", "Orange Line"], "range": ["#1f77b4", "#d62728", "#2ca02c", "#ff7f0e"]}, "title": "Line", "type": "nominal"}, "value": "lightgray"}, "size": {"field": "average_flow", "scale": {"range": [50, 1000]}, "title": "Average Flow", "type": "quantitative"}, "tooltip": [{"field": "stop_name", "type": "nominal"}, {"field": "route_name", "type": "nominal"}, {"field": "average_flow", "type": "quantitative"}], "x": {"axis": {"title": "Stop Name"}, "field": "stop_name", "type": "nominal"}, "y": {"axis": {"title": "Average Flow"}, "field": "average_flow", "type": "quantitative"}}, "height": 400, "params": [{"name": "param_8", "select": {"type": "point", "fields": ["route_name"]}, "bind": {"input": "select", "options": ["Blue Line", "Red Line", "Orange Line", "Green Line"], "labels": ["Blue Line", "Red Line", "Orange Line", "Green Line"], "name": "Route Name"}}], "title": "Average Flow for Each Stop", "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v5.16.3.json", "datasets": {"data-49945fc7344cdfa168bbb4cab8d237d1": [{"stop_name": "Airport", "route_name": "Blue Line", "average_flow": 4085.090909090909}, {"stop_name": "Alewife", "route_name": "Red Line", "average_flow": 860.6818181818181}, {"stop_name": "Allston Street", "route_name": "Green Line", "average_flow": 391.5}, {"stop_name": "Andrew", "route_name": "Red Line", "average_flow": 6482.454545454545}, {"stop_name": "Aquarium", "route_name": "Blue Line", "average_flow": 5926.227272727273}, {"stop_name": "Arlington", "route_name": "Green Line", "average_flow": 7188.454545454545}, {"stop_name": "Ashmont", "route_name": "Red Line", "average_flow": 652.8636363636364}, {"stop_name": "Assembly", "route_name": "Orange Line", "average_flow": 4041.2727272727275}, {"stop_name": "Babcock Street", "route_name": "Green Line", "average_flow": 809.8181818181819}, {"stop_name": "Back Bay", "route_name": "Orange Line", "average_flow": 5220.5}, {"stop_name": "Back of the Hill", "route_name": "Green Line", "average_flow": 62.95454545454545}, {"stop_name": "Beachmont", "route_name": "Blue Line", "average_flow": 2106.181818181818}, {"stop_name": "Beaconsfield", "route_name": "Green Line", "average_flow": 543.8181818181819}, {"stop_name": "Blandford Street", "route_name": "Green Line", "average_flow": 1005.1818181818181}, {"stop_name": "Boston College", "route_name": "Green Line", "average_flow": 15.863636363636363}, {"stop_name": "Boston Univ. Central", "route_name": "Green Line", "average_flow": 981.7272727272727}, {"stop_name": "Boston Univ. East", "route_name": "Green Line", "average_flow": 995.3636363636364}, {"stop_name": "Boston Univ. West", "route_name": "Green Line", "average_flow": 965.5}, {"stop_name": "Bowdoin", "route_name": "Blue Line", "average_flow": 167.77272727272728}, {"stop_name": "Boylston", "route_name": "Green Line", "average_flow": 7307.318181818182}, {"stop_name": "Braintree", "route_name": "Red Line", "average_flow": 339.54545454545456}, {"stop_name": "Brandon Hall", "route_name": "Green Line", "average_flow": 235.54545454545453}, {"stop_name": "Brigham Circle", "route_name": "Green Line", "average_flow": 329.5}, {"stop_name": "Broadway", "route_name": "Red Line", "average_flow": 6853.181818181818}, {"stop_name": "Brookline Hills", "route_name": "Green Line", "average_flow": 587.4090909090909}, {"stop_name": "Brookline Village", "route_name": "Green Line", "average_flow": 631.9545454545455}, {"stop_name": "Central", "route_name": "Red Line", "average_flow": 6826.727272727273}, {"stop_name": "Charles/MGH", "route_name": "Red Line", "average_flow": 7894.590909090909}, {"stop_name": "Chestnut Hill", "route_name": "Green Line", "average_flow": 449.95454545454544}, {"stop_name": "Chestnut Hill Ave.", "route_name": "Green Line", "average_flow": 56.90909090909091}, {"stop_name": "Chinatown", "route_name": "Orange Line", "average_flow": 6213.545454545455}, {"stop_name": "Chiswick Road", "route_name": "Green Line", "average_flow": 101.18181818181819}, {"stop_name": "Cleveland Circle", "route_name": "Green Line", "average_flow": 18.818181818181817}, {"stop_name": "Community College", "route_name": "Orange Line", "average_flow": 5512.636363636364}, {"stop_name": "Coolidge Corner", "route_name": "Green Line", "average_flow": 347.3181818181818}, {"stop_name": "Copley", "route_name": "Green Line", "average_flow": 5378.136363636364}, {"stop_name": "Davis", "route_name": "Red Line", "average_flow": 2588.181818181818}, {"stop_name": "Dean Road", "route_name": "Green Line", "average_flow": 90.27272727272727}, {"stop_name": "Downtown Crossing", "route_name": "Orange Line", "average_flow": 6637.727272727273}, {"stop_name": "Downtown Crossing", "route_name": "Red Line", "average_flow": 7734.727272727273}, {"stop_name": "Eliot", "route_name": "Green Line", "average_flow": 317.1818181818182}, {"stop_name": "Englewood Ave.", "route_name": "Green Line", "average_flow": 43.36363636363637}, {"stop_name": "Fairbanks Street", "route_name": "Green Line", "average_flow": 213.72727272727272}, {"stop_name": "Fenway", "route_name": "Green Line", "average_flow": 722.7727272727273}, {"stop_name": "Fenwood Road", "route_name": "Green Line", "average_flow": 233.77272727272728}, {"stop_name": "Fields Corner", "route_name": "Red Line", "average_flow": 1861.090909090909}, {"stop_name": "Forest Hills", "route_name": "Orange Line", "average_flow": 790.9545454545455}, {"stop_name": "Government Center", "route_name": "Blue Line", "average_flow": 1775.4545454545455}, {"stop_name": "Government Center", "route_name": "Green Line", "average_flow": 4060.318181818182}, {"stop_name": "Green Street", "route_name": "Orange Line", "average_flow": 1722.9545454545455}, {"stop_name": "Griggs Street", "route_name": "Green Line", "average_flow": 469.8636363636364}, {"stop_name": "Harvard", "route_name": "Red Line", "average_flow": 5618.136363636364}, {"stop_name": "Harvard Ave.", "route_name": "Green Line", "average_flow": 570.9090909090909}, {"stop_name": "Hawes Street", "route_name": "Green Line", "average_flow": 470.3636363636364}, {"stop_name": "Haymarket", "route_name": "Green Line", "average_flow": 2519.909090909091}, {"stop_name": "Haymarket", "route_name": "Orange Line", "average_flow": 6267.954545454545}, {"stop_name": "Heath Street", "route_name": "Green Line", "average_flow": 26.40909090909091}, {"stop_name": "Hynes Convention Center", "route_name": "Green Line", "average_flow": 4236.045454545455}, {"stop_name": "JFK/Umass", "route_name": "Red Line", "average_flow": 4571.636363636364}, {"stop_name": "Jackson Square", "route_name": "Orange Line", "average_flow": 2580.8636363636365}, {"stop_name": "Kendall/MIT", "route_name": "Red Line", "average_flow": 7573.5}, {"stop_name": "Kenmore", "route_name": "Green Line", "average_flow": 2297.090909090909}, {"stop_name": "Kent Street", "route_name": "Green Line", "average_flow": 456.77272727272725}, {"stop_name": "Lechmere", "route_name": "Green Line", "average_flow": 562.3181818181819}, {"stop_name": "Longwood", "route_name": "Green Line", "average_flow": 683.0454545454545}, {"stop_name": "Longwood Medical Area", "route_name": "Green Line", "average_flow": 466.1363636363636}, {"stop_name": "Malden Center", "route_name": "Orange Line", "average_flow": 1730.5454545454545}, {"stop_name": "Massachusetts Ave.", "route_name": "Orange Line", "average_flow": 4453.954545454545}, {"stop_name": "Maverick", "route_name": "Blue Line", "average_flow": 5298.5}, {"stop_name": "Mission Park", "route_name": "Green Line", "average_flow": 178.95454545454547}, {"stop_name": "Museum of Fine Arts", "route_name": "Green Line", "average_flow": 591.4545454545455}, {"stop_name": "Newton Centre", "route_name": "Green Line", "average_flow": 404.8636363636364}, {"stop_name": "Newton Highlands", "route_name": "Green Line", "average_flow": 351.04545454545456}, {"stop_name": "North Quincy", "route_name": "Red Line", "average_flow": 2969.590909090909}, {"stop_name": "North Station", "route_name": "Green Line", "average_flow": 1556.7272727272727}, {"stop_name": "North Station", "route_name": "Orange Line", "average_flow": 6102.636363636364}, {"stop_name": "Northeastern University", "route_name": "Green Line", "average_flow": 688.0}, {"stop_name": "Oak Grove", "route_name": "Orange Line", "average_flow": 485.90909090909093}, {"stop_name": "Orient Heights", "route_name": "Blue Line", "average_flow": 2916.8636363636365}, {"stop_name": "Packards Corner", "route_name": "Green Line", "average_flow": 731.0}, {"stop_name": "Park Street", "route_name": "Green Line", "average_flow": 6187.090909090909}, {"stop_name": "Park Street", "route_name": "Red Line", "average_flow": 7839.409090909091}, {"stop_name": "Pleasant Street", "route_name": "Green Line", "average_flow": 891.0}, {"stop_name": "Porter", "route_name": "Red Line", "average_flow": 4077.0454545454545}, {"stop_name": "Prudential", "route_name": "Green Line", "average_flow": 1428.0454545454545}, {"stop_name": "Quincy Adams", "route_name": "Red Line", "average_flow": 892.2727272727273}, {"stop_name": "Quincy Center", "route_name": "Red Line", "average_flow": 1684.2727272727273}, {"stop_name": "Reservoir", "route_name": "Green Line", "average_flow": 491.22727272727275}, {"stop_name": "Revere Beach", "route_name": "Blue Line", "average_flow": 1474.3636363636363}, {"stop_name": "Riverside", "route_name": "Green Line", "average_flow": 39.86363636363637}, {"stop_name": "Riverway", "route_name": "Green Line", "average_flow": 104.18181818181819}, {"stop_name": "Roxbury Crossing", "route_name": "Orange Line", "average_flow": 2953.1363636363635}, {"stop_name": "Ruggles", "route_name": "Orange Line", "average_flow": 3754.181818181818}, {"stop_name": "Saint Mary Street", "route_name": "Green Line", "average_flow": 502.22727272727275}, {"stop_name": "Saint Paul Street", "route_name": "Green Line", "average_flow": 683.8863636363636}, {"stop_name": "Savin Hill", "route_name": "Red Line", "average_flow": 2305.2272727272725}, {"stop_name": "Science Park", "route_name": "Green Line", "average_flow": 931.6818181818181}, {"stop_name": "Shawmut", "route_name": "Red Line", "average_flow": 1378.8636363636363}, {"stop_name": "South Station", "route_name": "Red Line", "average_flow": 7695.0}, {"stop_name": "South Street", "route_name": "Green Line", "average_flow": 27.636363636363637}, {"stop_name": "State Street", "route_name": "Blue Line", "average_flow": 4180.045454545455}, {"stop_name": "State Street", "route_name": "Orange Line", "average_flow": 6673.318181818182}, {"stop_name": "Stony Brook", "route_name": "Orange Line", "average_flow": 2103.9545454545455}, {"stop_name": "Suffolk Downs", "route_name": "Blue Line", "average_flow": 2466.7272727272725}, {"stop_name": "Sullivan Square", "route_name": "Orange Line", "average_flow": 4876.818181818182}, {"stop_name": "Summit Ave.", "route_name": "Green Line", "average_flow": 265.8636363636364}, {"stop_name": "Sutherland Road", "route_name": "Green Line", "average_flow": 158.63636363636363}, {"stop_name": "Symphony", "route_name": "Green Line", "average_flow": 980.4090909090909}, {"stop_name": "Tappan Street", "route_name": "Green Line", "average_flow": 127.54545454545455}, {"stop_name": "Tufts Medical Center", "route_name": "Orange Line", "average_flow": 5876.318181818182}, {"stop_name": "Waban", "route_name": "Green Line", "average_flow": 294.90909090909093}, {"stop_name": "Warren Street", "route_name": "Green Line", "average_flow": 308.77272727272725}, {"stop_name": "Washington Square", "route_name": "Green Line", "average_flow": 176.04545454545453}, {"stop_name": "Washington Street", "route_name": "Green Line", "average_flow": 228.8181818181818}, {"stop_name": "Wellington", "route_name": "Orange Line", "average_flow": 3203.3636363636365}, {"stop_name": "Wollaston", "route_name": "Red Line", "average_flow": 2429.7727272727275}, {"stop_name": "Wonderland", "route_name": "Blue Line", "average_flow": 579.5}, {"stop_name": "Wood Island", "route_name": "Blue Line", "average_flow": 3375.590909090909}, {"stop_name": "Woodland", "route_name": "Green Line", "average_flow": 266.90909090909093}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>